{"version":3,"file":"main.js","mappings":"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","sources":["webpack://webpack-template/./src/index.js"],"sourcesContent":["import \"./styles.css\";\n\nfunction HandleData() {\n  let currentUnit = \"F\";\n  let currentDataObjectInFahrenheit;\n  function getCurrentUnit() {\n    return currentUnit;\n  }\n  function toggleCurrentUnit() {\n    if (currentUnit === \"F\") {\n      currentUnit = \"C\";\n    } else {\n      currentUnit = \"F\";\n    }\n  }\n  function getResponse(location) {\n    const url = `https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/${location}?unitGroup=us&include=days,current,alerts,events&key=3ZSBAJWVFDWUTUYMPVB3LUDP2&contentType=json`;\n    const request = new Request(url);\n    return fetch(request)\n      .then(function (response) {\n        if (!response.ok) {\n          alert(\"Invalid location or API error\");\n          throw new Error(\"Invalid location or API error\");\n        }\n        return response;\n      })\n      .catch(function (error) {\n        throw error;\n      });\n  }\n  function getSpecificDataFromResponse(response) {\n    return response\n      .json()\n      .then(function (data) {\n        const dataObject = {\n          address: data.address,\n          temp: data.currentConditions.temp,\n          tempmin: data.days[0].tempmin,\n          tempmax: data.days[0].tempmax,\n          feelslike: data.currentConditions.feelslike,\n          conditions: data.days[0].conditions,\n          windspeed: data.currentConditions.windspeed,\n          humidity: data.currentConditions.humidity,\n          timezone: data.timezone,\n          sunset: data.currentConditions.sunset,\n          sunrise: data.currentConditions.sunrise,\n          description: data.days[0].description,\n          datetime: data.currentConditions.datetime,\n        };\n        currentDataObjectInFahrenheit = dataObject;\n        return dataObject;\n      })\n      .catch(function (error) {\n        console.log(\"Data parsing error:\", error);\n        throw error;\n      });\n  }\n  function getCurrentDataObject() {\n    return currentDataObjectInFahrenheit;\n  }\n  function convertMphToKmh(mph) {\n    return (mph * 1.60934).toFixed(1);\n  }\n  function convertFahrenheitToCelsius(f) {\n    return (((f - 32) * 5) / 9).toFixed(1);\n  }\n  function convert24To12HourFormat(time) {\n    const date = new Date(`2000-01-01T${time}`);\n    return date.toLocaleTimeString(\"en-US\", {\n      hour: \"numeric\",\n      minute: \"2-digit\",\n      hour12: true,\n    });\n  }\n  return {\n    getResponse,\n    getSpecificDataFromResponse,\n    getCurrentUnit,\n    toggleCurrentUnit,\n    getCurrentDataObject,\n    convertMphToKmh,\n    convertFahrenheitToCelsius,\n    convert24To12HourFormat,\n  };\n}\nfunction HandleDom() {\n  const input = document.querySelector(\"input\");\n  function displayDataOnDomInImperial(specificData, dataHandler) {\n    const locationNameH1 = document.querySelector(\".name\");\n    locationNameH1.textContent = formatAddress(specificData.address);\n    const descriptionH3 = document.querySelector(\".description\");\n    descriptionH3.textContent = specificData.description;\n    const realTempH2 = document.querySelector(\".real-temperature h2\");\n    realTempH2.textContent = specificData.temp;\n    const feelsLikeTempH3 = document.querySelector(\".feels-like p\");\n    feelsLikeTempH3.textContent = \"Feels Like: \" + specificData.feelslike;\n    const conditionsP = document.querySelector(\".conditions\");\n    conditionsP.textContent = specificData.conditions;\n    const windSpeedP = document.querySelector(\".wind-speed\");\n    windSpeedP.textContent = \"Wind Speed: \" + specificData.windspeed + \" mph\";\n    const humidityP = document.querySelector(\".humidity\");\n    humidityP.textContent = \"Humidity: \" + specificData.humidity + \" %\";\n    const timezoneP = document.querySelector(\".timezone\");\n    timezoneP.textContent = \"Timezone: \" + specificData.timezone;\n    const tempMinP = document.querySelector(\".temp-min p\");\n    tempMinP.textContent = \"L: \" + specificData.tempmin;\n    const tempMaxP = document.querySelector(\".temp-max p\");\n    tempMaxP.textContent = \"H: \" + specificData.tempmax;\n    let sunriseIn12Format = dataHandler.convert24To12HourFormat(\n      specificData.sunrise,\n    );\n    const sunriseP = document.querySelector(\".sunrise\");\n    sunriseP.textContent = \"Sunrise: \" + sunriseIn12Format;\n    let sunsetIn12Format = dataHandler.convert24To12HourFormat(\n      specificData.sunset,\n    );\n    const sunsetP = document.querySelector(\".sunset\");\n    sunsetP.textContent = \"Sunset: \" + sunsetIn12Format;\n  }\n  function displayDataOnDomInMetric(specificData, dataHandler) {\n    const realTempH2 = document.querySelector(\".real-temperature h2\");\n    realTempH2.textContent = dataHandler.convertFahrenheitToCelsius(\n      specificData.temp,\n    );\n    const feelsLikeTempH3 = document.querySelector(\".feels-like p\");\n    feelsLikeTempH3.textContent =\n      \"Feels Like: \" +\n      dataHandler.convertFahrenheitToCelsius(specificData.feelslike);\n    const windSpeedP = document.querySelector(\".wind-speed\");\n    windSpeedP.textContent =\n      \"Wind Speed: \" +\n      dataHandler.convertMphToKmh(specificData.windspeed) +\n      \" km/h\";\n    const tempMinP = document.querySelector(\".temp-min p\");\n    tempMinP.textContent =\n      \"L: \" + dataHandler.convertFahrenheitToCelsius(specificData.tempmin);\n    const tempMaxP = document.querySelector(\".temp-max p\");\n    tempMaxP.textContent =\n      \"H: \" + dataHandler.convertFahrenheitToCelsius(specificData.tempmax);\n    const sunriseP = document.querySelector(\".sunrise\");\n    sunriseP.textContent = \"Sunrise: \" + specificData.sunrise;\n    const sunsetP = document.querySelector(\".sunset\");\n    sunsetP.textContent = \"Sunset: \" + specificData.sunset;\n  }\n  function formatAddress(address) {\n    let parts = address.split(\" \");\n    for (let i = 0; i < parts.length; i++) {\n      parts[i] = parts[i][0].toUpperCase() + parts[i].slice(1);\n    }\n    return parts.join(\" \");\n  }\n  function resetInputValue() {\n    input.value = \"\";\n  }\n  function getInputValue() {\n    return input.value;\n  }\n  function setInputValue(value) {\n    input.value = value;\n  }\n  function updateUnitDisplay(unit) {\n    const tempUnitSpan = document.querySelectorAll(\".temperature-unit\");\n    if (unit === \"F\") {\n      tempUnitSpan.forEach((span) => (span.textContent = \"°F\"));\n    } else {\n      tempUnitSpan.forEach((span) => (span.textContent = \"℃\"));\n    }\n  }\n  return {\n    displayDataOnDomInImperial,\n    displayDataOnDomInMetric,\n    resetInputValue,\n    getInputValue,\n    setInputValue,\n    updateUnitDisplay,\n  };\n}\nfunction HandleEvents() {\n  const domHandler = new HandleDom();\n  const dataHandler = new HandleData();\n  function addEventListeners() {\n    const button = document.querySelector(\".search\");\n    button.addEventListener(\"click\", function () {\n      if (!domHandler.getInputValue()) {\n        alert(\"Please enter a valid city name\");\n        return;\n      }\n      dataHandler\n        .getResponse(domHandler.getInputValue())\n        .then(function (response) {\n          return dataHandler.getSpecificDataFromResponse(response);\n        })\n        .then(function (specificData) {\n          domHandler.displayDataOnDomInImperial(specificData, dataHandler);\n          domHandler.updateUnitDisplay(\"F\");\n        })\n        .catch(function (error) {\n          console.log(error);\n        });\n      domHandler.resetInputValue();\n    });\n    const changeUnitButton = document.querySelector(\".change-unit\");\n    changeUnitButton.addEventListener(\"click\", function () {\n      if (dataHandler.getCurrentUnit() === \"F\") {\n        const dataInFahrenheit = dataHandler.getCurrentDataObject();\n        domHandler.displayDataOnDomInMetric(dataInFahrenheit, dataHandler);\n        dataHandler.toggleCurrentUnit();\n        domHandler.updateUnitDisplay(\"C\");\n      } else if (dataHandler.getCurrentUnit() === \"C\") {\n        const dataInFahrenheit = dataHandler.getCurrentDataObject();\n        domHandler.displayDataOnDomInImperial(dataInFahrenheit, dataHandler);\n        dataHandler.toggleCurrentUnit();\n        domHandler.updateUnitDisplay(\"F\");\n      }\n    });\n  }\n  return { addEventListeners };\n}\nfunction startProgram() {\n  const domHandler = new HandleDom();\n  const eventHandler = new HandleEvents();\n  eventHandler.addEventListeners();\n  const button = document.querySelector(\"button\");\n  domHandler.setInputValue(\"berlin\");\n  button.click();\n}\nstartProgram();\n"],"names":["HandleData","currentDataObjectInFahrenheit","currentUnit","getResponse","location","request","Request","fetch","then","response","ok","alert","Error","catch","error","getSpecificDataFromResponse","json","data","dataObject","address","temp","currentConditions","tempmin","days","tempmax","feelslike","conditions","windspeed","humidity","timezone","sunset","sunrise","description","datetime","console","log","getCurrentUnit","toggleCurrentUnit","getCurrentDataObject","convertMphToKmh","mph","toFixed","convertFahrenheitToCelsius","f","convert24To12HourFormat","time","Date","toLocaleTimeString","hour","minute","hour12","HandleDom","input","document","querySelector","displayDataOnDomInImperial","specificData","dataHandler","textContent","parts","split","i","length","toUpperCase","slice","join","formatAddress","sunriseIn12Format","sunsetIn12Format","displayDataOnDomInMetric","resetInputValue","value","getInputValue","setInputValue","updateUnitDisplay","unit","tempUnitSpan","querySelectorAll","forEach","span","HandleEvents","domHandler","addEventListeners","addEventListener","dataInFahrenheit","button","click","startProgram"],"sourceRoot":""}