{"version":3,"file":"main.js","mappings":"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","sources":["webpack://webpack-template/./src/index.js"],"sourcesContent":["import \"./styles.css\";\n\nfunction HandleData(){\n    let currentUnit = 'F';\n    let currentDataObjectInFahrenheit;\n    function getCurrentUnit(){\n        return currentUnit;\n    }\n    function toggleCurrentUnit(){\n        if(currentUnit==='F'){\n            currentUnit = 'C'\n        }else{\n            currentUnit = 'F';\n        }\n    }\n    function getResponse(location) {\n        const url = `https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/${location}?unitGroup=us&include=days,current,alerts,events&key=3ZSBAJWVFDWUTUYMPVB3LUDP2&contentType=json`;\n        const request = new Request(url);\n        return fetch(request).then(function(response){\n            if (!response.ok) { \n                alert(\"Invalid location or API error\");\n                throw new Error(\"Invalid location or API error\");\n            }\n            return response;\n        }).catch(function(error){\n            throw error;\n        })\n    }\n    function getSpecificDataFromResponse(response){\n        return response.json().then(function(data){\n            const dataObject = {\n                address: data.address,\n                temp: data.currentConditions.temp,\n                tempmin: data.days[0].tempmin,\n                tempmax: data.days[0].tempmax,\n                feelslike: data.currentConditions.feelslike,\n                conditions: data.days[0].conditions,\n                windspeed: data.currentConditions.windspeed,\n                humidity: data.currentConditions.humidity,\n                timezone: data.timezone,\n                sunset: data.currentConditions.sunset,\n                sunrise: data.currentConditions.sunrise,\n                description: data.days[0].description,\n                datetime: data.currentConditions.datetime,\n            };\n            currentDataObjectInFahrenheit = dataObject;\n            return dataObject;\n        }).catch(function(error){\n            console.log(\"Data parsing error:\",error)\n            throw error;\n        })\n    }\n    function getCurrentDataObject(){\n        return currentDataObjectInFahrenheit;\n    }\n     function convertMphToKmh(mph) {\n        return (mph * 1.60934).toFixed(1);\n    }\n    function convertFahrenheitToCelsius(f) {\n        return ((f - 32) * 5 / 9).toFixed(1);\n    }\n    function convert24To12HourFormat(time){\n    const date = new Date(`2000-01-01T${time}`);\n    return date.toLocaleTimeString('en-US',{\n        hour:'numeric',\n        minute: '2-digit',\n        hour12:true\n    });\n    }\n    return{\n        getResponse,\n        getSpecificDataFromResponse,\n        getCurrentUnit,\n        toggleCurrentUnit,\n        getCurrentDataObject,\n        convertMphToKmh,\n        convertFahrenheitToCelsius,\n        convert24To12HourFormat,\n    }\n}\nfunction HandleDom(){\n    const input = document.querySelector(\"input\");\n    function displayDataOnDomInImperial(specificData, dataHandler){\n        const locationNameH1 = document.querySelector(\".name\");\n        locationNameH1.textContent=formatAddress(specificData.address);\n        const descriptionH3 = document.querySelector(\".description\");\n        descriptionH3.textContent = specificData.description;\n        const realTempH2 = document.querySelector(\".real-temperature h2\");\n        realTempH2.textContent=specificData.temp;\n        const feelsLikeTempH3 = document.querySelector(\".feels-like p\");\n        feelsLikeTempH3.textContent = \"Feels Like: \"+ specificData.feelslike;\n        const conditionsP = document.querySelector(\".conditions\");\n        conditionsP.textContent=specificData.conditions;\n        const windSpeedP = document.querySelector(\".wind-speed\");\n        windSpeedP.textContent= \"Wind Speed: \"+ specificData.windspeed + \" mph\";\n        const humidityP = document.querySelector(\".humidity\");\n        humidityP.textContent=\"Humidity: \"+ specificData.humidity+\" %\";\n        const timezoneP = document.querySelector(\".timezone\");\n        timezoneP.textContent=\"Timezone: \"+specificData.timezone;\n        const tempMinP = document.querySelector(\".temp-min p\");\n        tempMinP.textContent = \"L: \" + specificData.tempmin;\n        const tempMaxP = document.querySelector(\".temp-max p\");\n        tempMaxP.textContent = \"H: \" + specificData.tempmax;\n        let sunriseIn12Format = dataHandler.convert24To12HourFormat(specificData.sunrise);\n        const sunriseP = document.querySelector(\".sunrise\");\n        sunriseP.textContent = \"Sunrise: \" + sunriseIn12Format;\n        let sunsetIn12Format = dataHandler.convert24To12HourFormat(specificData.sunset);\n        const sunsetP = document.querySelector(\".sunset\");\n        sunsetP.textContent = \"Sunset: \" + sunsetIn12Format;\n    }\n    function displayDataOnDomInMetric(specificData,dataHandler){\n        const realTempH2 = document.querySelector(\".real-temperature h2\");\n        realTempH2.textContent=dataHandler.convertFahrenheitToCelsius(specificData.temp);\n        const feelsLikeTempH3 = document.querySelector(\".feels-like p\");\n        feelsLikeTempH3.textContent = \"Feels Like: \"+dataHandler.convertFahrenheitToCelsius(specificData.feelslike);\n        const windSpeedP = document.querySelector(\".wind-speed\");\n        windSpeedP.textContent= \"Wind Speed: \"+ dataHandler.convertMphToKmh(specificData.windspeed)+\" km/h\";\n        const tempMinP = document.querySelector(\".temp-min p\");\n        tempMinP.textContent = \"L: \" + dataHandler.convertFahrenheitToCelsius(specificData.tempmin);\n        const tempMaxP = document.querySelector(\".temp-max p\");\n        tempMaxP.textContent = \"H: \" + dataHandler.convertFahrenheitToCelsius(specificData.tempmax);\n        const sunriseP = document.querySelector(\".sunrise\");\n        sunriseP.textContent = \"Sunrise: \" + specificData.sunrise;\n        const sunsetP = document.querySelector(\".sunset\");\n        sunsetP.textContent = \"Sunset: \" + specificData.sunset;\n    }\n    function formatAddress(address){\n        let parts = address.split(\" \");\n        for(let i=0;i<parts.length;i++){\n            parts[i] = parts[i][0].toUpperCase()+parts[i].slice(1);\n        }\n        return parts.join(\" \");\n    }\n    function resetInputValue(){\n        input.value=\"\";\n    }\n    function getInputValue(){\n        return input.value;\n    }\n    function setInputValue(value){\n        input.value = value;\n    }\n    function updateUnitDisplay(unit){\n        const tempUnitSpan = document.querySelectorAll(\".temperature-unit\");\n        if(unit==='F'){\n            tempUnitSpan.forEach(span => span.textContent = \"°F\");\n        }else{\n            tempUnitSpan.forEach(span => span.textContent = \"℃\");\n        }\n    }\n    \n    return {displayDataOnDomInImperial,displayDataOnDomInMetric,resetInputValue, getInputValue,setInputValue,updateUnitDisplay};\n}\nfunction HandleEvents(){\n    const domHandler = new HandleDom();\n    const dataHandler = new HandleData();\n        function addEventListeners(){\n        const button = document.querySelector(\".search\");\n        button.addEventListener(\"click\", function(){\n            if(!domHandler.getInputValue()){\n                alert(\"Please enter a valid city name\");\n                return;\n            }\n          dataHandler.getResponse(domHandler.getInputValue()).then(function(response){\n            return dataHandler.getSpecificDataFromResponse(response)\n          }).then(function(specificData){\n             domHandler.displayDataOnDomInImperial(specificData,dataHandler);\n             domHandler.updateUnitDisplay('F');\n          }).catch(function(error){\n                 console.log(error);\n          })\n          domHandler.resetInputValue();\n        })\n        const changeUnitButton= document.querySelector(\".change-unit\");\n        changeUnitButton.addEventListener(\"click\",function(){\n            if(dataHandler.getCurrentUnit()==='F'){\n              const dataInFahrenheit = dataHandler.getCurrentDataObject();\n               domHandler.displayDataOnDomInMetric(dataInFahrenheit, dataHandler); \n               dataHandler.toggleCurrentUnit();\n               domHandler.updateUnitDisplay('C');\n            }else if(dataHandler.getCurrentUnit()==='C'){\n                const dataInFahrenheit = dataHandler.getCurrentDataObject();\n                domHandler.displayDataOnDomInImperial(dataInFahrenheit,dataHandler);\n                dataHandler.toggleCurrentUnit();\n                domHandler.updateUnitDisplay('F');\n            }\n        })\n    }\n    return {addEventListeners};\n}\nfunction startProgram(){\n    const domHandler = new HandleDom();\n    const eventHandler = new HandleEvents();\n    eventHandler.addEventListeners();\n    const button = document.querySelector(\"button\");\n    domHandler.setInputValue(\"berlin\");\n    button.click();\n}\nstartProgram();\n\n\n\n\n\n"],"names":["HandleData","currentDataObjectInFahrenheit","currentUnit","getResponse","location","request","Request","fetch","then","response","ok","alert","Error","catch","error","getSpecificDataFromResponse","json","data","dataObject","address","temp","currentConditions","tempmin","days","tempmax","feelslike","conditions","windspeed","humidity","timezone","sunset","sunrise","description","datetime","console","log","getCurrentUnit","toggleCurrentUnit","getCurrentDataObject","convertMphToKmh","mph","toFixed","convertFahrenheitToCelsius","f","convert24To12HourFormat","time","Date","toLocaleTimeString","hour","minute","hour12","HandleDom","input","document","querySelector","displayDataOnDomInImperial","specificData","dataHandler","textContent","parts","split","i","length","toUpperCase","slice","join","formatAddress","sunriseIn12Format","sunsetIn12Format","displayDataOnDomInMetric","resetInputValue","value","getInputValue","setInputValue","updateUnitDisplay","unit","tempUnitSpan","querySelectorAll","forEach","span","HandleEvents","domHandler","addEventListeners","addEventListener","dataInFahrenheit","button","click","startProgram"],"sourceRoot":""}