(()=>{"use strict";function e(){let e,t="F";return{getResponse:function(e){const t=new Request(`https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/${e}?unitGroup=us&include=days,current,alerts,events&key=3ZSBAJWVFDWUTUYMPVB3LUDP2&contentType=json`);return fetch(t).then(function(e){if(!e.ok)throw alert("Invalid location or API error"),new Error("Invalid location or API error");return e}).catch(function(e){throw e})},getSpecificDataFromResponse:function(t){return t.json().then(function(t){const n={address:t.address,temp:t.currentConditions.temp,tempmin:t.days[0].tempmin,tempmax:t.days[0].tempmax,feelslike:t.currentConditions.feelslike,conditions:t.days[0].conditions,windspeed:t.currentConditions.windspeed,humidity:t.currentConditions.humidity,timezone:t.timezone,sunset:t.currentConditions.sunset,sunrise:t.currentConditions.sunrise,description:t.days[0].description,datetime:t.currentConditions.datetime};return e=n,n}).catch(function(e){throw console.log("Data parsing error:",e),e})},getCurrentUnit:function(){return t},toggleCurrentUnit:function(){t="F"===t?"C":"F"},getCurrentDataObject:function(){return e},convertMphToKmh:function(e){return(1.60934*e).toFixed(1)},convertFahrenheitToCelsius:function(e){return(5*(e-32)/9).toFixed(1)},convert24To12HourFormat:function(e){return new Date(`2000-01-01T${e}`).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}}}function t(){const e=document.querySelector("input");return{displayDataOnDomInImperial:function(e,t){document.querySelector(".name").textContent=function(e){let t=e.split(" ");for(let e=0;e<t.length;e++)t[e]=t[e][0].toUpperCase()+t[e].slice(1);return t.join(" ")}(e.address),document.querySelector(".description").textContent=e.description,document.querySelector(".real-temperature h2").textContent=e.temp,document.querySelector(".feels-like p").textContent="Feels Like: "+e.feelslike,document.querySelector(".conditions").textContent=e.conditions,document.querySelector(".wind-speed").textContent="Wind Speed: "+e.windspeed+" mph",document.querySelector(".humidity").textContent="Humidity: "+e.humidity+" %",document.querySelector(".timezone").textContent="Timezone: "+e.timezone,document.querySelector(".temp-min p").textContent="L: "+e.tempmin,document.querySelector(".temp-max p").textContent="H: "+e.tempmax;let n=t.convert24To12HourFormat(e.sunrise);document.querySelector(".sunrise").textContent="Sunrise: "+n;let o=t.convert24To12HourFormat(e.sunset);document.querySelector(".sunset").textContent="Sunset: "+o},displayDataOnDomInMetric:function(e,t){document.querySelector(".real-temperature h2").textContent=t.convertFahrenheitToCelsius(e.temp),document.querySelector(".feels-like p").textContent="Feels Like: "+t.convertFahrenheitToCelsius(e.feelslike),document.querySelector(".wind-speed").textContent="Wind Speed: "+t.convertMphToKmh(e.windspeed)+" km/h",document.querySelector(".temp-min p").textContent="L: "+t.convertFahrenheitToCelsius(e.tempmin),document.querySelector(".temp-max p").textContent="H: "+t.convertFahrenheitToCelsius(e.tempmax),document.querySelector(".sunrise").textContent="Sunrise: "+e.sunrise,document.querySelector(".sunset").textContent="Sunset: "+e.sunset},resetInputValue:function(){e.value=""},getInputValue:function(){return e.value},setInputValue:function(t){e.value=t},updateUnitDisplay:function(e){const t=document.querySelectorAll(".temperature-unit");"F"===e?t.forEach(e=>e.textContent="°F"):t.forEach(e=>e.textContent="℃")}}}function n(){const n=new t,o=new e;return{addEventListeners:function(){const e=document.querySelector(".search");e.addEventListener("click",function(){n.getInputValue()?(o.getResponse(n.getInputValue()).then(function(e){return o.getSpecificDataFromResponse(e)}).then(function(e){n.displayDataOnDomInImperial(e,o),n.updateUnitDisplay("F")}).catch(function(e){console.log(e)}),n.resetInputValue()):alert("Please enter a city name")}),document.querySelector(".change-unit").addEventListener("click",function(){if("F"===o.getCurrentUnit()){const e=o.getCurrentDataObject();n.displayDataOnDomInMetric(e,o),o.toggleCurrentUnit(),n.updateUnitDisplay("C")}else if("C"===o.getCurrentUnit()){const e=o.getCurrentDataObject();n.displayDataOnDomInImperial(e,o),o.toggleCurrentUnit(),n.updateUnitDisplay("F")}}),document.querySelector("input").addEventListener("keydown",function(t){"Enter"===t.key&&e.click()})}}}!function(){const e=new t;(new n).addEventListeners();const o=document.querySelector("button");e.setInputValue("berlin"),o.click()}()})();
//# sourceMappingURL=main.js.map